syntax = "proto3";

package KPProto;

option optimize_for = LITE_RUNTIME;
option go_package = "github.com/bytelang/kplayer/types/core/proto";

import "gogoproto/gogo.proto";

enum EventAction {
	option (gogoproto.goproto_enum_prefix) = false;

	// ----------------------------------
	// define prompt action
	// send command to kplayer core
	// ----------------------------------

	// player
	EVENT_PROMPT_ACTION_PLAYER_STOP = 0;
	EVENT_PROMPT_ACTION_PLAYER_PAUSE = 1;
	EVENT_PROMPT_ACTION_PLAYER_SKIP = 2;
	EVENT_PROMPT_ACTION_PLAYER_CONTINUE = 3;
	EVENT_PROMPT_ACTION_PLAYER_SEEK = 4;

	// output
	EVENT_PROMPT_ACTION_OUTPUT_ADD = 5;
	EVENT_PROMPT_ACTION_OUTPUT_REMOVE = 6;
	EVENT_PROMPT_ACTION_OUTPUT_LIST = 7;

	// resource
	EVENT_PROMPT_ACTION_RESOURCE_ADD = 8;
	EVENT_PROMPT_ACTION_RESOURCE_REMOVE = 9;
	EVENT_PROMPT_ACTION_RESOURCE_LIST = 10;

	// plugin
	EVENT_PROMPT_ACTION_PLUGIN_ADD = 11;
	EVENT_PROMPT_ACTION_PLUGIN_REMOVE = 12;
	EVENT_PROMPT_ACTION_PLUGIN_LIST = 13;

	// ----------------------------------
	// define message action
	// broadcast message action from kplayer core
	// ----------------------------------

	// player
	EVENT_MESSAGE_ACTION_PLAYER_STARTED = 14;
	EVENT_MESSAGE_ACTION_PLAYER_STOP = 15;
	EVENT_MESSAGE_ACTION_PLAYER_PAUSE = 16;
	EVENT_MESSAGE_ACTION_PLAYER_CONTINUE = 17;
	EVENT_MESSAGE_ACTION_PLAYER_SKIP = 18;
	EVENT_MESSAGE_ACTION_PLAYER_ENDED = 19;

	// resource
	EVENT_MESSAGE_ACTION_RESOURCE_START = 20;
	EVENT_MESSAGE_ACTION_RESOURCE_FINISH = 21;
	EVENT_MESSAGE_ACTION_RESOURCE_EMPTY = 22;
	EVENT_MESSAGE_ACTION_RESOURCE_REMOVE = 23;
	EVENT_MESSAGE_ACTION_RESOURCE_ADD = 24;
	EVENT_MESSAGE_ACTION_RESOURCE_LIST = 25;

	// output
	EVENT_MESSAGE_ACTION_OUTPUT_ADD = 26;
	EVENT_MESSAGE_ACTION_OUTPUT_REMOVE = 27;
	EVENT_MESSAGE_ACTION_OUTPUT_LIST = 28;

	// plugin
	EVENT_MESSAGE_ACTION_PLUGIN_ADD = 29;
	EVENT_MESSAGE_ACTION_PLUGIN_REMOVE = 30;
	EVENT_MESSAGE_ACTION_PLUGIN_LIST = 31;
}

// resource
message MessageResource {
	bytes path = 1;
	bytes unique = 2;
	uint64 start_time = 3;
	uint64 end_time = 4;
}
message PromptResource {
	bytes path = 1;
	bytes unique = 2;
}

// output
message MessageOutput {
	bytes path = 1;
	bytes unique = 2;
	uint64 start_time = 3;
}
message PromptOutput {
	bytes path = 1;
	bytes unique = 2;
}

// plugin
message MessagePlugin {
	bytes path = 1;
	bytes unique = 2;
	uint64 start_time = 3;
	map<string, bytes> params = 4;
}
message PromptPlugin {
	bytes path = 1;
	bytes unique = 2;
	map<string, bytes> params = 4;
}